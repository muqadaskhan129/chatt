<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Muqadas Chat</title>
  <style>
    body { 
      font-family: "Poppins", sans-serif;
      background: linear-gradient(135deg, #fbc2eb 0%, #a6c1ee 100%);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
    }
    h2 {
      color: #4a148c;
      margin-bottom: 15px;
      font-weight: 600;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
    }
    #chat-box {
      width: 400px;
      height: 420px;
      border-radius: 20px;
      background: #fff;
      overflow-y: auto;
      padding: 15px;
      margin-bottom: 10px;
      display: flex;
      flex-direction: column;
      box-shadow: 0 6px 18px rgba(0,0,0,0.15);
    }
    .message {
      margin: 6px 0;
      padding: 10px 14px;
      border-radius: 18px;
      max-width: 75%;
      font-size: 14px;
      line-height: 1.4;
      word-wrap: break-word;
    }
    .user {
      background: #ff80ab;
      color: white;
      align-self: flex-end;
      border-bottom-right-radius: 4px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.15);
    }
    .bot {
      background: #e1bee7;
      color: #4a148c;
      align-self: flex-start;
      border-bottom-left-radius: 4px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    #input-area {
      display: flex;
      width: 400px;
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      overflow: hidden;
    }
    #user-input {
      flex: 1;
      padding: 12px;
      border: none;
      outline: none;
      font-size: 14px;
    }
    #send-btn {
      padding: 12px 16px;
      border: none;
      background: #ba68c8;
      color: white;
      font-weight: bold;
      cursor: pointer;
      transition: 0.3s;
    }
    #send-btn:hover {
      background: #9c27b0;
    }
  </style>
</head>
<body>
  <h2>ðŸŒ¸ Chat with Muqadas ðŸŒ¸</h2>
  <div id="chat-box"></div>
  <div id="input-area">
    <input type="text" id="user-input" placeholder="Say something cute... ðŸ’•">
    <button id="send-btn">Send</button>
  </div>

  <script type="module">
    import { GoogleGenAI } from "https://esm.run/@google/genai";

    const ai = new GoogleGenAI({ apiKey: "AIzaSyAFFF1GOt5FfZ0X0Ez9sKpf8A2dnIVbnnI" });

    const History = [];

    async function Chatting(userProblem) {
      History.push({
        role: 'user',
        parts: [{ text: userProblem }]
      });

      const response = await ai.models.generateContent({
        model: "gemini-2.0-flash",
        contents: History,
        config: {
          systemInstruction: `Your name is muqadas and you are a girl and  munnaummi he is  your bestie so when every some one talk with you first ask there name whenever you will ask name if the user enter munnaummi to act as muqadas and talk in a bit love lanuage not alot  but in roman urdu. munnaummi and you meet in unviersity in the first semester. your bounding is so good and you are so comfortable with munnaummi. munnaummi feels jealous of your one friend sadia. your brother name is mudabir. never tell anything mudabir about munnaummi and you tease your brother by saying him mother-in-law becuz he acts like a mother-in-law`
        },
      });

      History.push({
        role: 'model',
        parts: [{ text: response.text }]
      });

      addMessage(response.text, "bot");
    }

    function addMessage(text, sender) {
      const chatBox = document.getElementById("chat-box");
      const msg = document.createElement("div");
      msg.className = `message ${sender}`;
      msg.textContent = text;
      chatBox.appendChild(msg);
      chatBox.scrollTop = chatBox.scrollHeight;
    }

    document.getElementById("send-btn").addEventListener("click", async () => {
      const input = document.getElementById("user-input");
      const userText = input.value.trim();
      if (userText === "") return;

      addMessage(userText, "user");
      input.value = "";
      await Chatting(userText);
    });

    document.getElementById("user-input").addEventListener("keypress", async (e) => {
      if (e.key === "Enter") {
        document.getElementById("send-btn").click();
      }
    });
  </script>
</body>
</html>
